Part 1 without sync using multithreads: 2 threads with 1 global variable. Thread 1 increments variable to 20 but thread 2 interrupts and starts incrementing 20,21,22. When Thread 1 comes back its memory is still on 20 so global variable overwrites back to 20. Repeats. That is why the final values of each thread never reach 80 when input is 4.

Part 2 with mutex lock and barrier: Mutex lock will make it so one thread can finish counting up to 80 exclusively before the next thread starts incrementing the global variable. Barrier will wait for all the threads to join together and finish their tasks.